!function(){"use strict";class e{static getBooks(){let e;return e=null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books")),e}static addBook(t){const o=e.getBooks();o.push(t),localStorage.setItem("books",JSON.stringify(o))}static removeBook(t){const o=e.getBooks();o.forEach(((e,s)=>{e.title===t&&o.splice(s,1)})),localStorage.setItem("books",JSON.stringify(o))}}class t{static displayBooks(){e.getBooks().forEach((e=>t.addBookToList(e)))}static addBookToList(e){const t=document.querySelector("#book-list"),o=document.createElement("tr");o.innerHTML=`\n        <td>${e.title}</td>\n        <td>${e.author}</td>\n        <td>${e.pages}</td>\n        <td><a href="#" class="btn btn-danger btn-sm delete">X</a></td>\n        `,t.appendChild(o)}static deleteBook(e){e.classList.contains("delete")&&e.parentElement.parentElement.remove()}static showAlert(e,t){const o=document.createElement("div");o.className=`alert alert-${t}`,o.appendChild(document.createTextNode(e));const s=document.querySelector(".container"),n=document.querySelector("#book-form");s.insertBefore(o,n),setTimeout((()=>document.querySelector(".alert").remove()),3e3)}static clearFields(){document.querySelector("#book-form").reset()}}class o{constructor(e,t,o){this.title=e,this.author=t,this.pages=o}}document.addEventListener("DOMContentLoaded",t.displayBooks),document.querySelector("#book-form").addEventListener("submit",(s=>{!function(s){s.preventDefault();const n=document.querySelector("#title").value,r=document.querySelector("#author").value,l=document.querySelector("#pages").value;if(""===n||""===r||""===l)t.showAlert("Please fill in all fields","danger");else{const s=new o(n,r,l);t.addBookToList(s),e.addBook(s),t.showAlert("Book Added","success"),t.clearFields()}}(s)})),document.querySelector("#book-list").addEventListener("click",(o=>{!function(o){t.deleteBook(o.target),e.removeBook(o.target.parentElement.previousElementSibling.previousElementSibling.previousElementSibling.textContent),t.showAlert("Book Removed","success")}(o)}))}();